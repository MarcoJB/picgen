<mat-toolbar color="primary">
  <button mat-icon-button (click)="sidenav.toggle()" *ngIf="smallScreen">
    <mat-icon>menu</mat-icon>
  </button>
  <span>Sharepic Generator</span>
</mat-toolbar>

<mat-sidenav-container>
  <mat-sidenav #sidenav [mode]="smallScreen?'over':'side'" opened="{{!smallScreen}}" [autoFocus]="false">
    <div id="sidenavInner">
      <mat-button-toggle-group [(ngModel)]="sharePics[activeSharePic].platform" id="platformConfig" class="configElement" (change)="triggerChangeFormatEvent()">
        <mat-button-toggle value="INSTAGRAM">Instagram</mat-button-toggle>
        <mat-button-toggle value="FACEBOOK">Facebook</mat-button-toggle>
      </mat-button-toggle-group>

      <mat-form-field class="configElement">
        <mat-label>Überschrift</mat-label>
        <input matInput [(ngModel)]="sharePics[activeSharePic].title" placeholder="Überschrift">
      </mat-form-field>

      <div id="subtitleConfig" class="configElement">
        <mat-form-field>
          <mat-label>Unterüberschrift</mat-label>
          <input matInput [(ngModel)]="sharePics[activeSharePic].subtitle" placeholder="Unterüberschrift">
        </mat-form-field>

        <mat-button-toggle-group [(ngModel)]="sharePics[activeSharePic].subtitleColor" id="subtitleScheme">
          <mat-button-toggle value="white"><span>Aa</span></mat-button-toggle>
          <mat-button-toggle value="green"><span>Aa</span></mat-button-toggle>
        </mat-button-toggle-group>
      </div>

      <div id="copyrightConfig" class="configElement">
        <mat-form-field>
          <mat-label>Copyright</mat-label>
          <input matInput [(ngModel)]="sharePics[activeSharePic].copyright" placeholder="Copyright">
        </mat-form-field>

        <mat-button-toggle-group [(ngModel)]="sharePics[activeSharePic].copyrightColor" id="copyrightColor">
          <mat-button-toggle value="black"><span>Aa</span></mat-button-toggle>
          <mat-button-toggle value="white"><span>Aa</span></mat-button-toggle>
          <mat-button-toggle value="white_with_shadow"><span>Aa</span></mat-button-toggle>
        </mat-button-toggle-group>
      </div>

      <mat-form-field id="logoConfig" class="configElement">
        <mat-label>Logo</mat-label>
        <input matInput value="Logo" hidden>
        <mat-button-toggle-group [(ngModel)]="sharePics[activeSharePic].logoScheme" id="logoScheme">
          <mat-button-toggle value="wg"><span>Aa</span></mat-button-toggle>
          <mat-button-toggle value="gw"><span>Aa</span></mat-button-toggle>
          <mat-button-toggle value="gt"><span>Aa</span></mat-button-toggle>
          <mat-button-toggle value="wb"><span>Aa</span></mat-button-toggle>
          <mat-button-toggle value="bw"><span>Aa</span></mat-button-toggle>
          <mat-button-toggle value="bt"><span>Aa</span></mat-button-toggle>
        </mat-button-toggle-group>
      </mat-form-field>

      <div>
        <div id="mainImageFileConfig" class="configElement">
          <mat-form-field>
            <mat-label>Bild</mat-label>
            <input matInput placeholder="Bild" disabled>
          </mat-form-field>

          <button mat-flat-button (click)="fileUpload.click()" color="primary">Bild auswählen</button>
          <input id="file" type="file" (change)="fileSelected($event)" #fileUpload>
        </div>

        <div id="mainImageConfig" class="configElement">
          <mat-button-toggle-group [(ngModel)]="sharePics[activeSharePic].mainImageSize" id="mainImageSizeConfig" (change)="triggerChangeFormatEvent()">
            <mat-button-toggle value="FULL_HEIGHT">
              <mat-icon>expand</mat-icon>
            </mat-button-toggle>
            <mat-button-toggle value="FULL_WIDTH">
              <mat-icon>expand</mat-icon>
            </mat-button-toggle>
          </mat-button-toggle-group>

          <mat-button-toggle-group [(ngModel)]="sharePics[activeSharePic].mainImageVerticalPositioning"
                                   id="mainImageVerticalConfig" (change)="triggerChangeFormatEvent()">
            <mat-button-toggle value="TOP">
              <mat-icon>vertical_align_top</mat-icon>
            </mat-button-toggle>
            <mat-button-toggle value="CENTER">
              <mat-icon>vertical_align_center</mat-icon>
            </mat-button-toggle>
            <mat-button-toggle value="BOTTOM">
              <mat-icon>vertical_align_bottom</mat-icon>
            </mat-button-toggle>
          </mat-button-toggle-group>

          <mat-button-toggle-group [(ngModel)]="sharePics[activeSharePic].mainImageHorizontalPositioning"
                                   id="mainImageHorizontalConfig" (change)="triggerChangeFormatEvent()">
            <mat-button-toggle value="LEFT">
              <mat-icon>vertical_align_top</mat-icon>
            </mat-button-toggle>
            <mat-button-toggle value="CENTER">
              <mat-icon>vertical_align_center</mat-icon>
            </mat-button-toggle>
            <mat-button-toggle value="RIGHT">
              <mat-icon>vertical_align_bottom</mat-icon>
            </mat-button-toggle>
          </mat-button-toggle-group>

          <mat-button-toggle-group [(ngModel)]="sharePics[activeSharePic].cropImage" id="mainImageCropConfig" (change)="triggerChangeFormatEvent()">
            <mat-button-toggle [value]="false">
              <mat-icon>settings_overscan</mat-icon>
            </mat-button-toggle>
            <mat-button-toggle [value]="true">
              <mat-icon>photo_size_select_small</mat-icon>
            </mat-button-toggle>
          </mat-button-toggle-group>
        </div>
      </div>

      <mat-form-field class="configElement">
        <mat-label>Hintergrundbild</mat-label>
        <mat-select [(ngModel)]="sharePics[activeSharePic].backgroundImage">
          <mat-option value="">-</mat-option>
          <mat-option value="meatfreemonday">Meatfree Monday</mat-option>
          <mat-option value="plasticfree">Plastikfreitag</mat-option>
          <mat-option value="peace">Frieden</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field class="configElement" appearance="fill">
        <mat-label>Text</mat-label>
        <textarea [(ngModel)]="sharePics[activeSharePic].text" matInput cdkTextareaAutosize cdkAutosizeMinRows="3"
                  cdkAutosizeMaxRows="10"></textarea>
      </mat-form-field>

      <button mat-flat-button color="primary" color="accent" id="export">Bild exportieren</button>
    </div>
  </mat-sidenav>
  <mat-sidenav-content>
    <div id="previews" style="left: -{{activeSharePic*100}}%;">
      <ng-container *ngFor="let sharepic of sharePics; let i = index">
        <div class="previewOutlet" style="left: {{i*100}}%;">
          <app-sharepic-preview [sharePic]="sharepic" (grabStatusChange)="grabbing=$event"></app-sharepic-preview>
        </div>
      </ng-container>
    </div>
    <button mat-icon-button color="" id="buttonPrevious" [disabled]="activeSharePic==0"
            (click)="activeSharePic=activeSharePic-1">
      <mat-icon>chevron_left</mat-icon>
    </button>
    <button mat-icon-button color="" id="buttonDelete" (click)="deleteSharePic()">
      <mat-icon>clear</mat-icon>
    </button>
    <button mat-icon-button color="" id="buttonNext" *ngIf="activeSharePic<sharePics.length-1"
            (click)="activeSharePic=activeSharePic+1">
      <mat-icon>chevron_right</mat-icon>
    </button>
    <button mat-icon-button color="primary" id="buttonNew" *ngIf="activeSharePic==sharePics.length-1"
            (click)="newSharePic()">
      <mat-icon>add</mat-icon>
    </button>
    <div id="dotOverview">
      <ng-container *ngFor="let sharepic of sharePics; let i = index">
        <div class="dot" [class.active]="i==activeSharePic" (click)="activeSharePic=i">
          <div></div>
        </div>
      </ng-container>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>

<div id="exportOverlay" *ngIf="exporting">
  <mat-spinner></mat-spinner>
</div>

<div id="fileDropOverlay" *ngIf="fileDragging">
  <div>
    <span class="material-icons-outlined">file_download</span>
    Datei hier ablegen
  </div>
</div>

